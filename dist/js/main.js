(()=>{"use strict";(()=>{const e=document.querySelector(".mobile-menu");document.querySelectorAll(".menu-list__link").forEach((t=>{t.addEventListener("click",(n=>{n.preventDefault();const l=t.getAttribute("href").substring(1),o=document.getElementById(l);o&&o.scrollIntoView({block:"start",behavior:"smooth"}),window.innerWidth<992&&(e.style.right="-400px")}))}))})(),(()=>{const e=document.querySelector(".header"),t=document.querySelector(".modal-overlay"),n=document.getElementById("callback"),l=document.querySelector(".modal-close"),o=document.querySelector(".services-elements"),r=document.getElementById("noService"),c=document.querySelector(".modal-callback");e.addEventListener("click",(e=>{e.preventDefault(),e.target.classList.contains("callback-btn")&&(t.style.display="block",n.style.display="block")})),t.addEventListener("click",(e=>{t.style.display="none",n.style.display="none"})),l.addEventListener("click",(()=>{t.style.display="none",n.style.display="none"})),o.addEventListener("click",(e=>{e.preventDefault(),e.target.nextElementSibling.closest(".img-wrapper")&&(t.style.display="block",n.style.display="block")})),r.addEventListener("click",(e=>{e.preventDefault(),e.target.classList.contains("button-services")&&(t.style.display="block",c.style.display="block")}))})(),(()=>{const e=document.querySelector("[name=user_name]"),t=document.querySelector("[name=user_phone]"),n=e=>{e.target.value=e.target.value.replace(/[\s]{2,}/," "),e.target.value=e.target.value.replace(/[\-]{2,}/,"-"),e.target.value=e.target.value.replace(/^\-/,""),e.target.value=e.target.value.replace(/\-$/,"")};e.addEventListener("input",(e=>{e.target.value=e.target.value.replace(/[^А-Яа-я\s\-]+/g,"")})),e.addEventListener("blur",(e=>{n(e),e.target.value=e.target.value.toString().substring("0","1").toUpperCase()+e.target.value.toString().substring("1").toLowerCase()})),t.addEventListener("input",(e=>{e.target.value=e.target.value.replace(/[^0-9\+]+/g,"")})),t.addEventListener("blur",(e=>{n(e)}))})(),(()=>{const e=document.querySelector(".mob-menu-btn"),t=document.querySelector(".mobile-menu");e.addEventListener("click",(()=>{t.style.right="0px"})),document.addEventListener("click",(e=>{(!e.target.closest(".mobile-menu")&&!e.target.closest(".mob-menu-btn")||e.target.closest(".mobile-menu-close"))&&(t.style.right="-400px")}))})(),(()=>{const e=document.querySelector(".services-elements"),t=document.querySelector(".services-carousel"),n=document.querySelector(".arrow-left"),l=document.querySelector(".arrow-right");let o=3;window.addEventListener("resize",(()=>{window.innerWidth<770?(e.style.width="360px",o=1):window.innerWidth<992?(e.style.width="748px",o=2):(e.style.width="1115px",o=3)}));let r=t.querySelector("ul"),c=t.querySelectorAll("li"),s=0;n.onclick=function(){s+=380+o,s=Math.min(s,0),r.style.marginLeft=s+"px"},l.onclick=function(){s-=380+o,s=Math.max(s,-380*(c.length-o)),r.style.marginLeft=s+"px"}})(),(()=>{const e=document.querySelector(".up"),t=document.querySelector("#services");let n;const l=()=>{Math.max(document.body.scrollTop,document.documentElement.scrollTop)>0?(window.scrollBy(0,-100),n=setTimeout(l,20)):clearTimeout(n)};document.addEventListener("DOMContentLoaded",(()=>{e.style.display="none"})),document.addEventListener("scroll",(()=>{const n=t.getBoundingClientRect().top;e.style.display=n<=0?"":"none"})),document.addEventListener("click",(e=>{e.target.closest(".up")&&l()}))})(),(async()=>{const e=document.getElementById("form-callback"),t=document.createElement("div"),n="Ошибка...";try{if(!e)throw new Error("Верните форму!");e.addEventListener("submit",(l=>{l.preventDefault(),(()=>{const l=e.querySelectorAll("input"),o=new FormData(e),r={};t.textContent="Загрузка...",e.append(t),o.forEach(((e,t)=>{r[t]=e})),(e=>{let t=!0;return(e.user_name.length<2||e.user_phone.length<5||e.user_phone.length>16)&&(t=!1),t})(r)?(async e=>await fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((e=>e.json())))(r).then((e=>{t.textContent="Спасибо! Наш менеджер с вами свяжется.",l.forEach((e=>{"submit"!=e.type&&(e.value="")}))})).catch((e=>{t.textContent=n})):(t.textContent=n,alert("Данные не валидны")),setTimeout((()=>{t.textContent=""}),3e3)})()}))}catch(e){console.log(e.message)}})(),(()=>{const e=document.querySelector(".accordeon"),t=e.querySelectorAll(".element"),n=e.querySelectorAll(".element-content");t.forEach(((e,l)=>{e.addEventListener("click",(()=>{t.forEach(((e,t)=>{e.classList.remove("active"),n[t].style.display="none"})),e.classList.add("active"),n[l].style.display="block"}))}))})(),(()=>{const e=document.querySelectorAll(".top-slider .item"),t=document.querySelector(".top-slider-dots"),n=document.querySelector(".top-slider");let l,o=document.querySelectorAll(".dot"),r="active",c="dot-active",s=0;document.addEventListener("DOMContentLoaded",(()=>{if(null==n||null==e)console.log("Ошибка! Нет слайдера или слайдов.");else{for(let n=0;n<e.length;n++){let e=document.createElement("li");e.classList.add("dot"),0==n&&e.classList.add("dot-active"),t.appendChild(e)}o=document.querySelectorAll(".dot"),u(3e3)}}));const a=(e,t,n)=>{e[t].classList.remove(n)},d=(e,t,n)=>{e[t].classList.add(n)},i=()=>{a(e,s,r),a(o,s,c),s++,s>=e.length&&(s=0),d(e,s,r),d(o,s,c)},u=(e=1500)=>{l=setInterval(i,e)};n.addEventListener("click",(t=>{t.preventDefault(),t.target.matches(".dot")&&(a(e,s,r),a(o,s,c),t.target.classList.contains("dot")&&o.forEach(((e,n)=>{t.target===e&&(s=n)})),s>=e.length&&(s=0),s<0&&(s=e.length-1),d(e,s,r),d(o,s,c))})),n.addEventListener("mouseenter",(e=>{e.target.matches(".dot, .portfolio-btn")&&clearInterval(l)}),!0),n.addEventListener("mouseleave",(e=>{e.target.matches(".dot, .portfolio-btn")&&u(3e3)}),!0)})()})();