(()=>{"use strict";(()=>{const e=document.querySelector(".mobile-menu");document.querySelectorAll(".menu-list__link").forEach((t=>{t.addEventListener("click",(l=>{l.preventDefault();const n=t.getAttribute("href").substring(1),o=document.getElementById(n);o&&o.scrollIntoView({block:"start",behavior:"smooth"}),window.innerWidth<992&&(e.style.right="-400px")}))}))})(),(()=>{const e=document.querySelector(".header"),t=document.querySelector(".modal-overlay"),l=document.getElementById("callback"),n=document.querySelector(".modal-close"),o=document.querySelector(".services-elements"),r=document.getElementById("noService"),c=document.querySelector(".mobile-menu");e.addEventListener("click",(e=>{e.preventDefault(),e.target.classList.contains("callback-btn")&&(t.style.display="block",l.style.display="block")})),t.addEventListener("click",(e=>{t.style.display="none",l.style.display="none"})),n.addEventListener("click",(()=>{t.style.display="none",l.style.display="none"})),o.addEventListener("click",(e=>{e.preventDefault(),e.target.nextElementSibling.closest(".img-wrapper")&&(t.style.display="block",l.style.display="block")})),r.addEventListener("click",(e=>{e.preventDefault(),e.target.classList.contains("button-services")&&(t.style.display="block",l.style.display="block")})),c.addEventListener("click",(e=>{e.target.closest(".callback-btn")&&(t.style.display="block",l.style.display="block")}))})(),(()=>{const e=document.querySelector("[name=user_name]"),t=document.querySelector("[name=user_phone]"),l=e=>{e.target.value=e.target.value.replace(/[\s]{2,}/," "),e.target.value=e.target.value.replace(/[\-]{2,}/,"-"),e.target.value=e.target.value.replace(/^\-/,""),e.target.value=e.target.value.replace(/\-$/,"")};e.addEventListener("input",(e=>{e.target.value=e.target.value.replace(/[^А-Яа-я\s\-]+/g,"")})),e.addEventListener("blur",(e=>{l(e),e.target.value=e.target.value.toString().substring("0","1").toUpperCase()+e.target.value.toString().substring("1").toLowerCase()})),t.addEventListener("input",(e=>{e.target.value=e.target.value.replace(/[^0-9\+]+/g,"")})),t.addEventListener("blur",(e=>{l(e)}))})(),(()=>{const e=document.querySelector(".mob-menu-btn"),t=document.querySelector(".mobile-menu");e.addEventListener("click",(()=>{t.style.right="0px"})),document.addEventListener("click",(e=>{(!e.target.closest(".mobile-menu")&&!e.target.closest(".mob-menu-btn")||e.target.closest(".mobile-menu-close")||e.target.closest(".callback-btn"))&&(t.style.right="-400px")}))})(),(()=>{const e=document.querySelector(".services-elements"),t=document.querySelector(".services-carousel"),l=document.querySelectorAll(".carousel__items"),n=document.querySelector(".arrow-left"),o=document.querySelector(".arrow-right");let r=380,c=3;window.addEventListener("resize",(()=>{window.innerWidth<770?(l.forEach((e=>{e.style.width=""})),e.style.width="360px",c=1):window.innerWidth<992?(l.forEach((e=>{e.style.width=""})),e.style.width="748px",c=2,r=380):window.innerWidth>991&&window.innerWidth<1240?(l.forEach((e=>{e.style.width="320px"})),e.style.width="960px",r=320,c=3):(l.forEach((e=>{e.style.width=""})),e.style.width="1115px",r=380,c=3)}));let s=t.querySelector("ul"),a=t.querySelectorAll("li"),d=0;n.onclick=function(){d+=r+c,d=Math.min(d,0),s.style.marginLeft=d+"px"},o.onclick=function(){d-=r+c,d=Math.max(d,-r*(a.length-c)),s.style.marginLeft=d+"px"}})(),(()=>{const e=document.querySelector(".up"),t=document.querySelector("#services");let l;const n=()=>{Math.max(document.body.scrollTop,document.documentElement.scrollTop)>0?(window.scrollBy(0,-100),l=setTimeout(n,20)):clearTimeout(l)};document.addEventListener("DOMContentLoaded",(()=>{e.style.display="none"})),document.addEventListener("scroll",(()=>{const l=t.getBoundingClientRect().top;e.style.display=l<=0?"":"none"})),document.addEventListener("click",(e=>{e.target.closest(".up")&&n()}))})(),(async()=>{const e=document.getElementById("form-callback"),t=document.createElement("div"),l="Ошибка...";try{if(!e)throw new Error("Верните форму!");e.addEventListener("submit",(n=>{n.preventDefault(),(()=>{const n=e.querySelectorAll("input"),o=new FormData(e),r={};t.textContent="Загрузка...",e.append(t),o.forEach(((e,t)=>{r[t]=e})),(e=>{let t=!0;return(e.user_name.length<2||e.user_phone.length<5||e.user_phone.length>16)&&(t=!1),t})(r)?(async e=>await fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((e=>e.json())))(r).then((e=>{t.textContent="Спасибо! Наш менеджер с вами свяжется.",n.forEach((e=>{"submit"!=e.type&&(e.value="")}))})).catch((e=>{t.textContent=l})):(t.textContent=l,alert("Данные не валидны")),setTimeout((()=>{t.textContent=""}),3e3)})()}))}catch(e){console.log(e.message)}})(),(()=>{const e=document.querySelector(".accordeon"),t=e.querySelectorAll(".element"),l=e.querySelectorAll(".element-content");t.forEach(((e,n)=>{e.addEventListener("click",(()=>{t.forEach(((e,t)=>{e.classList.remove("active"),l[t].style.display="none"})),e.classList.add("active"),l[n].style.display="block"}))}))})(),(()=>{const e=document.querySelectorAll(".top-slider .item"),t=document.querySelector(".top-slider-dots"),l=document.querySelector(".top-slider");let n,o=document.querySelectorAll(".dot"),r="active",c="dot-active",s=0;document.addEventListener("DOMContentLoaded",(()=>{if(null==l||null==e)console.log("Ошибка! Нет слайдера или слайдов.");else{for(let l=0;l<e.length;l++){let e=document.createElement("li");e.classList.add("dot"),0==l&&e.classList.add("dot-active"),t.appendChild(e)}o=document.querySelectorAll(".dot"),u(3e3)}}));const a=(e,t,l)=>{e[t].classList.remove(l)},d=(e,t,l)=>{e[t].classList.add(l)},i=()=>{a(e,s,r),a(o,s,c),s++,s>=e.length&&(s=0),d(e,s,r),d(o,s,c)},u=(e=1500)=>{n=setInterval(i,e)};l.addEventListener("click",(t=>{t.preventDefault(),t.target.matches(".dot")&&(a(e,s,r),a(o,s,c),t.target.classList.contains("dot")&&o.forEach(((e,l)=>{t.target===e&&(s=l)})),s>=e.length&&(s=0),s<0&&(s=e.length-1),d(e,s,r),d(o,s,c))})),l.addEventListener("mouseenter",(e=>{e.target.matches(".dot, .portfolio-btn")&&clearInterval(n)}),!0),l.addEventListener("mouseleave",(e=>{e.target.matches(".dot, .portfolio-btn")&&u(3e3)}),!0)})()})();